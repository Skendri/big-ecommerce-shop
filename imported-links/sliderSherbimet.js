// import gjersiaKartesTePare from './sliderKartat';
// import FemijetKartaveTeMedha from './sliderKartat';

const sliderSherbimet = [
  {
    id: 0,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 1,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 2,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 3,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 4,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 5,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 6,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 7,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 8,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
  {
    id: 9,
    img: "https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp",
    paragrafi1: "Ne dyqan dhe online",
    paragrafi2: "Deri me 9 gusht",
    header1: "PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?",
    header2: "PERFITO 10'000 LEKE ULJE!!",
    paragrafi3:
      " Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Debitis quos eum voluptatum molestias delectus",
    paragrafi4: "Zgjidhni nga 12 deri ne 48 keste",
  },
];

const containerSherbimet = document.getElementById("kartat-e-sherbimi");
containerSherbimet.innerHTML = "";

sliderSherbimet.forEach((sliderSherbime, id) => {
  const kartElement = document.createElement("div");
  kartElement.classList.add("kartaMadhe");
  kartElement.id = id;

  const diviImage = document.createElement("div");
  diviImage.classList.add("kartaMadhe-foto");

  const img = document.createElement("img");
  img.src = sliderSherbime.img;
  img.alt = " ";
  img.draggable = false;
  diviImage.appendChild(img);

  const kutiaInfos = document.createElement("div");
  kutiaInfos.classList.add("kartaMadhe-kutiaInfos");

  const infoPare = document.createElement("div");
  infoPare.classList.add("kartaMadhe-info");
  infoPare.innerHTML = `<p>${sliderSherbime.paragrafi1}</p> 
                        <p>${sliderSherbime.paragrafi2}</p> `;

  const infoDyte = document.createElement("div");
  infoDyte.classList.add("kartaMadhe-infoDyte");
  infoDyte.innerHTML = `
    <h4>${sliderSherbime.header1}</h4>
    <h3>${sliderSherbime.header2}</h3>
    <p>${sliderSherbime.paragrafi3}</p>
    <div class="kartaMadhe-info">
      <p>${sliderSherbime.paragrafi4}</p>
    </div>
    `;
  kutiaInfos.appendChild(infoPare);
  kutiaInfos.appendChild(infoDyte);
  kartElement.appendChild(diviImage);
  kartElement.appendChild(kutiaInfos);
  containerSherbimet.append(kartElement);
});

// ---------------------------------------------------------------------- KARTAT E SHERBIMIT ---------------- //

const mbeshtjellesiSherbimit = document.querySelector(
  "#mbeshtjellesi-kartave-sherbimi",
);
const kartaSherbimit = document.querySelector("#kartat-e-sherbimi");
const butonatShigjetSherbimit = document.querySelectorAll(
  "#butonat-e-kontrolluesit-sherbimit",
);
const gjersiaKartesSherbimit =
  document.querySelector(".kartaMadhe").offsetWidth;
const FemijetKartaveTeSherbimit = [...kartaSherbimit.children];

let cardSherbimit = Math.round(
  kartaSherbimit.offsetWidth / gjersiaKartesSherbimit,
);

FemijetKartaveTeSherbimit.slice(-cardSherbimit)
  .reverse()
  .forEach((card) => {
    kartaSherbimit.insertAdjacentHTML("afterbegin", card.outerHTML);
  });

FemijetKartaveTeSherbimit.slice(0, -cardSherbimit).forEach((card) => {
  kartaSherbimit.insertAdjacentHTML("beforeend", card.outerHTML);
});

let isDraggingKartaSherbimit = false,
  startXKartaSherbimit,
  rrotulloMajtasKartaSherbimit,
  timeoutIDKartaSherbimit;

butonatShigjetSherbimit.forEach((btn) => {
  btn.addEventListener("click", () => {
    kartaSherbimit.scrollLeft +=
      btn.id === "majtas-kontrolluesi-sherbimit"
        ? -gjersiaKartesSherbimit
        : gjersiaKartesSherbimit;
  });
});

const dragStartKartaSherbimit = (s) => {
  isDraggingKartaSherbimit = true;
  kartaSherbimit.classList.add("terheqje");
  startXKartaSherbimit = s.pageX;
  rrotulloMajtasKartaSherbimit = kartaSherbimit.scrollLeft;
};

const draggingKartaSherbimit = (s) => {
  if (!isDraggingKartaSherbimit) return;
  kartaSherbimit.scrollLeft =
    rrotulloMajtasKartaSherbimit - (s.pageX - startXKartaSherbimit);
};

const dragStopKartaSherbimit = () => {
  isDraggingKartaSherbimit = false;
  kartaSherbimit.classList.remove("terheqje");
};

const autoPlayKartaSherbimit = () => {
  if (window.innerWidth < 800) return;
  timeoutIDKartaSherbimit = setTimeout(
    () => (kartaSherbimit.scrollLeft += gjersiaKartesSherbimit),
    2500,
  );
};
autoPlayKartaSherbimit();

const infiniteScrollKartaSherbimit = () => {
  if (kartaSherbimit.scrollLeft === 0) {
    kartaSherbimit.classList.add("jo-transition");
    kartaSherbimit.scrollLeft =
      kartaSherbimit.scrollWidth - 1 * kartaSherbimit.offsetWidth;
    kartaSherbimit.classList.remove("jo-transition");
  } else if (
    Math.ceil(kartaSherbimit.scrollLeft) ===
    kartaSherbimit.scrollWidth - kartaSherbimit.offsetWidth
  ) {
    kartaSherbimit.classList.add("jo-transition");
    kartaSherbimit.scrollLeft = kartaSherbimit.offsetWidth;
    kartaSherbimit.classList.remove("jo-transition");
  }
  clearTimeout(timeoutIDKartaSherbimit);
  if (kartaSherbimit.matches(":hover")) autoPlayKartaSherbimit();
};

kartaSherbimit.addEventListener("mousedown", dragStartKartaSherbimit);
kartaSherbimit.addEventListener("mousemove", draggingKartaSherbimit);
kartaSherbimit.addEventListener("mouseup", dragStopKartaSherbimit);
kartaSherbimit.addEventListener("scroll", infiniteScrollKartaSherbimit);
mbeshtjellesiSherbimit.addEventListener("mouseenter", () =>
  clearTimeout(timeoutIDKartaSherbimit),
);
mbeshtjellesiSherbimit.addEventListener("mouseenter", autoPlayKartaSherbimit);

// <div class="kartaMadhe">
//     <div class="kartaMadhe-foto">
//         <img
//             src="https://cms-images.mmst.eu/hzxov1nxpus5/278L0ptpEu27yrj4qm4yc6/b236a4aba8cfb8c25410d4a7ff9f26b1/visual-principale-lp-foldable-desk-centrato.jpg?q=70&fm=webp"
//             alt=""
//             draggable="false"
//         />
//     </div>
//     <div class="kartaMadhe-kutiaInfos">
//         <div class="kartaMadhe-info">
//             <p>Ne dyqan dhe online</p>
//             <p>Deri me 9 gusht</p>
//         </div>
//         <div class="kartaMadhe-infoDyte">
//             <h4>PSE TE ZGJIDHNI SAMSUNG AI PER SHTEPIN TUAJ?</h4>
//             <h3>PERFITO 10'000 LEKE ULJE!!</h3>
//             <p>Per cdo blerje Samsung Galaxy Z FOLD6/ Z FLIP6
//                 Lorem ipsum dolor sit, amet consectetur adipisicing elit.
//                 Debitis quos eum voluptatum molestias delectus
//             </p>

//             <div class="kartaMadhe-info">
//                 <p>Zgjidhni nga 12 deri ne 48 keste </p>
//             </div>
//         </div>
//     </div>
// </div>
